<ul class="toc">
  {% assign headers = page.content | split: '<h' %}
  {% for header in headers offset:1 %}
    {% assign level = header | slice: 0, 1 %}
    {% assign rest = header | split: '>' | last %}
    {% if level == "1" or level == "2" or level == "3" %}
      {% assign anchor = rest | split: '</h' | first | strip_html | slugify %}
      {% assign title = rest | split: '</h' | first | strip_html %}
      
      <!-- 디버깅 출력 -->
      <li>레벨: {{ level }} - 제목: {{ title }} - 앵커: {{ anchor }}</li>
    {% endif %}
  {% endfor %}
</ul>
